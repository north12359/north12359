<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>IN THE NORTH</title>
  
  <subtitle>天生我才必有用</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2023-07-02T07:31:00.436Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>在北方</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ARCHLINUX详细安装教程</title>
    <link href="http://example.com/2023/07/02/ARCHLINUX%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"/>
    <id>http://example.com/2023/07/02/ARCHLINUX%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</id>
    <published>2023-07-02T05:08:44.000Z</published>
    <updated>2023-07-02T07:31:00.436Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>为防止makedown误转译 我将大部分的”_”转化成了”-“ 请大家分辨</p><h3 id="关于archlinux以及基本要求"><a href="#关于archlinux以及基本要求" class="headerlink" title="关于archlinux以及基本要求"></a>关于archlinux以及基本要求</h3><p>Arch Linux 是一个轻量、灵活、滚动更新的 Linux 发行版，适合有时间、有兴趣、热爱自由的读者。由于 Arch Linux 仅提供了一个很简洁的安装环境，用户有极大的空间根据自己的喜好进行安装和配置，因此初学者往往感到难以适应。本文将详细地介绍一个通用的安装过程，尽可能遵循 ArchWiki 安装指南[1]。本文介绍了虚拟机安装、Windows 与 Arch Linux 双系统安装和全新安装 Arch Linux 三种方式。希望能帮助初学者顺利进入 Arch Linux 的世界</p><p>本教程要求：</p><ul><li>拥有一台以 UEFI 模式启动的 x86-64 架构电脑，目前运行 Windows 8 及以上操作系统</li></ul><ul><li>准备一个 U 盘，将 U 盘文件全部备份到电脑中</li></ul><ul><li>备份好电脑中全部资料，防止安装过程中误删分区（您可以在不经常使用的电脑上安装，更推荐第一次安装的读者在虚拟机中尝试）</li></ul><ul><li>对 Linux 有一定了解，使用过终端（命令行）</li></ul><p>如果遇到安装问题，请从以下界面获取帮助</p><ul><li><a href="https://wiki.archlinuxcn.org/wiki/%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97">archwiki</a>i</li><li>搜索引擎</li><li><a href="https://bbs.archlinux.org/">arch论坛</a></li><li><a href="https://bbs.archlinuxcn.org/">arch中文论坛</a></li></ul><p><strong>如果您准备完毕的话，开始教程</strong></p><h2 id="获取安装镜像"><a href="#获取安装镜像" class="headerlink" title="获取安装镜像"></a>获取安装镜像</h2><p>个人推荐从北京外国语大学下载站进行安装 <a href="https://mirrors.bfsu.edu.cn/archlinux/iso/latest/">北京外国语大学开源软件站ARCHLINUX</a><br>下载如下文件 <code>archlinux-2023.xx.xx-x86_64.iso</code></p><h2 id="验证安装镜像（可选）"><a href="#验证安装镜像（可选）" class="headerlink" title="验证安装镜像（可选）"></a>验证安装镜像（可选）</h2><p><em><strong>TIPS：如果不担心镜像被篡改 这一步可以跳过</strong></em><br>为确保下载的文件否被篡改以及是否损坏，需要计算文件的 SHA256 值。<br>在 Windows 系统中，打开镜像所在文件夹。按住 SHIFT 键的同时右键空白处，点击“在此处打开 PowerShell”。在打开的 PowerShell 窗口中，输入<code>certutil -hashfile .\archlinux-2023.xx.xx-x86_64.iso SHA256  #请将 2023.xx.xx 替换为镜像名中的日期</code><br>请在对应下载站中找到 sha256sums.txt 如果和上述命令输出的值相同，说明文件没有损坏；如果不同，请重新下载</p><h2 id="准备安装介质"><a href="#准备安装介质" class="headerlink" title="准备安装介质"></a>准备安装介质</h2><p><em><strong>TIPS:刷写过程会清空u盘请做好备份</strong></em><br>下载rufus写盘工具 <a href="https://rufus.ie/downloads/">rufus</a><br>打开rufus 镜像选择下载好的镜像 设备选择插入的u盘 点击开始 等待刷写完毕</p><h2 id="双系统安装前提（可选）"><a href="#双系统安装前提（可选）" class="headerlink" title="双系统安装前提（可选）"></a>双系统安装前提（可选）</h2><p>如果您希望即将安装的 Arch Linux 与已有的 Windows 共存，请继续阅读；如果您希望只保留新安装的 Arch Linux，删除现有的 Windows 系统，请跳过此步。</p><ol><li>磁盘分区<br>请按照此教程，压缩磁盘空间用于 Arch Linux 安装（保持空闲状态，不用分区）。推荐保留 50GiB 的空间，至少 30GiB。如果您有两块硬盘，请在固态硬盘中压缩出至少 20GiB 空间，机械硬盘中尽可能多的压缩空间<br>请参考该文章 <a href="https://zhuanlan.zhihu.com/p/145420256">磁盘分区</a></li><li>关闭安全启动<br>由于预装 Windows 的电脑默认开启安全启动，但是 Arch Linux 默认不支持安全启动，因此我们需要提前关闭该功能。关闭后，Bitlocker 功能将无法使用，请提前关闭该功能。首先，我们进入 BIOS。您可以在启动电脑的过程中通过不断按相应快捷键进入 BIOS，具体的快捷键可以在搜索引擎中查找。如果您不知道快捷键，请使用如下方法。在 Windows 系统中，点击“开始”菜单，点击“设置”按钮，进入设置页面。点击“更新和安全”，在左侧点击“恢复”选项卡，在右侧点击“高级启动”栏目下的“立即重新启动”按钮。重新启动后，点击“疑难解答”，再点击“高级选项”，最后点击“UEFI 固件设置”，点击“重启”即可。然后，我们关闭安全启动。不同品牌的电脑的 BIOS 页面相差较大，进入之后，您可以在“设置”或“安全”选项卡下找到“安全启动”项目，将其设置为关闭。<br>最后，在 BIOS 中选择保存并重启，即可。</li><li>关闭休眠<br>Windows 默认启动“快速启动”功能，该功能影响 Arch Linux 的使用，可能导致磁盘文件丢失，我们需要将其关闭。为了彻底关闭该功能，本教程将休眠功能也一起关闭。右键“开始”菜单，点击“Windows Powershell（管理员）”，打开管理员权限的 Powershell 窗口。输入下列命令，按下 Enter 键即可<br> <code>powercfg -h off</code></li><li>时间设置<br>Windows 使用本地时间作为硬件时间，我们将其改为 UTC 时间，与 Arch Linux 统一。右键“开始”菜单，点击“Windows Powershell（管理员）”，打开管理员权限的 Powershell 窗口。输入下列命令，按下 Enter 键。<br> <code>reg add &quot;HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation&quot; /v RealTimeIsUniversal /d 1 /t REG_DWORD /f</code></li></ol><h2 id="启动安装环境"><a href="#启动安装环境" class="headerlink" title="启动安装环境"></a>启动安装环境</h2><p>请参考<a href="https://blog.csdn.net/qq_38711818/article/details/116161146">各品牌主板、笔记本、台式机启动快捷键</a>寻找您电脑快捷键，插好 U 盘，重启电脑，连续按该按键，直到出现启动列表，选择您的 U 盘。在弹出的 Ventoy 界面中，选择您刚刚下载的镜像名称项。在随后弹出的 GRUB 引导界面中，选择第一项”Arch Linux install medium (x86-64, UEFI)” 出现”root@archiso”为成功进入</p><h2 id="验证启动方式"><a href="#验证启动方式" class="headerlink" title="验证启动方式"></a>验证启动方式</h2><p>本文开始时提到，您的电脑必须在 UEFI 模式下启动，现在验证您的启动模式。</p><p>请输入如下命令 <code>ls /sys/firmware/efi/efivars</code><br>如果有大量输出，说明您的电脑处于 UEFI 模式；如果有类似于如下的输出，说明您的电脑处于 BIOS 模式。<br><code>ls: cannot access &#39;/sys/firmware/efi/efivars&#39;: No such file or directory</code><br>处于 BIOS 启动模式的朋友，可以自行进入 BIOS 页面更改启动模式。如果无法更改，那么本文无法指导您继续安装，请您参考其他教程，例如<br><a href="https://www.jianshu.com/p/8f4ecf695454">bios安装archlinux</a></p><h2 id="连接互联网"><a href="#连接互联网" class="headerlink" title="连接互联网"></a>连接互联网</h2><p>Arch Linux 镜像只提供一个基本的安装环境，软件包仍需要连接互联网后下载。连接互联网有多种方式，包括</p><ul><li>有线</li><li>wifi</li><li>usb以及蓝牙共享<br> 选择有线连接和手机 USB 网络共享的读者，只需要将网线或数据线插到电脑相应接口即可连接。以下详细介绍连接 WiFi 的方法。使用以下命令检查确保网络接口已经启用。<code>ip link</code><br> 使用iwctl链接WIFI <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root@archiso ~ # iwctl</span><br><span class="line">NetworkConfigurationEnabled: disabled</span><br><span class="line">StateDirectory: /var/lib/iwd</span><br><span class="line">Version: 1.xx</span><br><span class="line">[iwd]#</span><br></pre></td></tr></table></figure>如果您看到上述输出，说明您已经进入了 iwd 程序环境。这时读者可能会觉得陌生，因为通常的命令下达后会直接输出结果，并返回命令提示符，等待下一个命令的输入。而这个命令不同，下达之后进入了程序环境，用户只能与该程序交互，这一点请初学者牢记。</li></ul><p>若想退出 iwd 程序环境，只需要输入 quit 即可。</p><p>继续输入 <code>device list</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[iwd]# device list</span><br><span class="line">                       Devices</span><br><span class="line">                       ------------------------------------------------------</span><br><span class="line">                       Name   Address            Powered  Adapter  Mode</span><br><span class="line">                       ------------------------------------------------------</span><br><span class="line">                       wlan0  xx:xx:xx:xx:xx:xx  on       phy0     station</span><br></pre></td></tr></table></figure><p>请记住上述输出的设备名称（在 Name 下面），这里以 wlan0 为例，请将 wlan0 换成您的设备名称。</p><p>继续输入命令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[iwd]# station wlan0 scan  # 扫描网络，请将 wlan0 换成您的设备名称</span><br><span class="line">[iwd]# station wlan0 get-networks  # 输出扫描结果，请将 wlan0 换成您的设备名称</span><br><span class="line">         Available Networks</span><br><span class="line">         ------------------------------------</span><br><span class="line">         Network name    Security    Signal</span><br><span class="line">         ------------------------------------</span><br><span class="line">         mySSID          psk         ****</span><br></pre></td></tr></table></figure><p>请记住您的网络名称（在 Network name 下面），这里以 mySSID 为例，请将 mySSID 换成您的网络名称</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[iwd]# station wlan0 connect &quot;mySSID&quot;  # 连接网络，请将 wlan0 换成您的设备名称，mySSID 换成您的网络名称</span><br><span class="line">Type the network passphrase for mySSID psk.</span><br><span class="line">Passphrase: ********  # 输入密码</span><br><span class="line">[iwd]# quit  # 退出 iwd 程序环境</span><br></pre></td></tr></table></figure><p>使用 <code>ping archlinux.org</code>测试链接 使用ctrl+c停止</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root@archiso ~ # ping archlinux.org</span><br><span class="line">PING archlinux.org (95.217.163.246) 56(84) bytes of data.</span><br><span class="line">64 bytes from archlinux.org (95.217.163.246): icmp-seq=1 ttl=47 time=201 ms</span><br><span class="line">64 bytes from archlinux.org (95.217.163.246): icmp-seq=2 ttl=47 time=218 ms</span><br><span class="line">64 bytes from archlinux.org (95.217.163.246): icmp-seq=3 ttl=47 time=194 ms</span><br><span class="line">^C  # 使用 Ctrl+C 中止命令</span><br><span class="line">--- archlinux.org ping statistics ---</span><br><span class="line">3 packets transmitted, 3 received, 0% packet loss, time 2001 ms</span><br><span class="line">rtt min/avg/max/mdev = 194.013/204.384/217.666/9.873 ms</span><br></pre></td></tr></table></figure><p>如果出现上述结果，说明网络连接成功。如果无法连接 WiFi，请按照 ArchWiki检查互联网连接。由于驱动不匹配，有些电脑可能无法连接 WiFi，请使用有线连接或手机 USB 共享网络。</p><h2 id="更新系统时钟"><a href="#更新系统时钟" class="headerlink" title="更新系统时钟"></a>更新系统时钟</h2><p>在互联网连接之后，systemd-timesyncd 服务将自动校准系统时间。请输入如下命令确定时间的准确性。<br><code>timedatectl</code> 时间可能以 UTC 时区显示，比北京时间慢 8 小时。这是正常现象，无需调整</p><h2 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h2><p><em><strong>tips</strong></em></p><ul><li>从未进行过磁盘分区操作的读者请先在虚拟机内练习</li><li>请您务必提前备份好重要资料</li><li>请您确保知晓命令的含义，并正确输入命令，否则有可能造成数据丢失</li></ul><ol><li>全新安装archlinux的磁盘分区<br>注意：继续操作将清除硬盘内全部数据 如果需要双系统 跳过这一步</li></ol><p>|挂载点|分区|分区类型|建议大小|备注|<br>|—|<br>|mnt&#x2F;boot|&#x2F;dev&#x2F;sda1或&#x2F;dev&#x2F;nvme0n1p1|Efi system|512mib|Esp分区|<br>|mnt|&#x2F;dev&#x2F;sda2或&#x2F;dev&#x2F;nvme0n1p2|linux x86-64 root|100gib(至少30gib)|arch根分区|<br>|mnt&#x2F;home|&#x2F;dev&#x2F;sda3&#x2F;或&#x2F;dev&#x2F;nvme0n1p3|linux home|剩余空间|archlinux的home分区|<br>首先使用 <code>lsblk</code> 或 <code>fdisk -l</code> 查看分区信息。您将看到许多设备，请注意根据容量大小和分区数量进行区分，例如</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root@archiso ~ # lsblk</span><br><span class="line">NAME           MAJ:MIN  RM    SIZE  RO  TYPE  MOUNTPOINT</span><br><span class="line">loop0            7:0     0  688.2M   1  loop  /run/archiso/airootfs  # loop0 可以忽略</span><br><span class="line">sda              8:0     0  931.5G   0  disk  # sda 是要安装 Arch Linux 的硬盘，请记住设备名</span><br><span class="line">├─sda1           8:1     0    512M   0  part</span><br><span class="line">└─sda2           8:2     0    931G   0  part</span><br><span class="line">sdb              8:16    1   59.8G   0  disk  # sdb 是 U 盘，请忽略</span><br><span class="line">├─sdb1           8:17    1   59.7G   0  part</span><br><span class="line">│   └ventoy    254:0     0  861.3M   1  dm    /run/archiso/bootmnt</span><br><span class="line">└─sdb2           8:18    1     32M   0  part</span><br></pre></td></tr></table></figure><p>在上面的例子中，以 rom， loop， airoot 结尾的设备可以忽略；sda 是要安装 Arch Linux 的硬盘，请记住这个设备名；根据容量可以判断出 sdb 是 U 盘，请忽略。找到要进行分区的设备之后，请记住设备名（以 &#x2F;dev&#x2F;sda 为例，您的硬盘也可能是 &#x2F;dev&#x2F;nvme0n1）。</p><p>我们使用的分区工具是 fdisk，首先让我们学习一下 fdisk 的用法。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">```</span><br><span class="line">Generic</span><br><span class="line">   d   delete a partition  # 输入 d 删除分区</span><br><span class="line">   n   add a new partition  # 输入 n 创建分区</span><br><span class="line">   p   print the partition table  # 输入 p 打印分区表</span><br><span class="line">   t   change a partition type  # 输入 t 改变分区类型</span><br><span class="line">              …</span><br><span class="line">   Save &amp; Exit</span><br><span class="line">   w   write table to disk and exit  # 输入 w 写入并退出（写入后不可撤销，请谨慎使用）</span><br><span class="line">   q   quit without saving changes  # 输入 q 不保存退出</span><br><span class="line">                        …</span><br><span class="line">Create a new label</span><br><span class="line">   g   create a new empty GPT partition table  # 输入 g 创建 GPT 分区表</span><br><span class="line"></span><br><span class="line">我们现在正式进行磁盘分区。首先需要创建 GPT 分区表；随后依次创建分区，并修改分区类型；最后保存并退出。请参考以下分区过程，按照您的分区方案进行分区。</span><br></pre></td></tr></table></figure><p>root@archiso ~ # fdisk &#x2F;dev&#x2F;sda  # 请将 sda 更换为您的设备名，如 nvme0n1</p><p>Welcome to fdisk (util-linux 2.xx).<br>Changes will remain in memory only, until you decide to write them.<br>Be careful before using the write command.</p><p>Command (m for help): g  # 输入 g 创建新的 GPT 分区表（请勿遗忘此步，否则您的硬盘将是 MBR 格式）<br>Created a new GPT disklabel (GUID: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).</p><p>Command (m for help): n  # 输入 n 创建新的分区，这个分区将是 EFI 分区<br>Partition number (1-128, default 1):  # 分区编号保持默认，直接按 Enter<br>First sector (2048-125829086, default 2048):  # 第一个扇区，保持默认<br>Last sector, +&#x2F;-sectors or +&#x2F;-size{K,M,G,T,P} (2048-125829086, default 125827071): +512M  # 创建 512MiB 大小的分区</p><p>Created a new partition 1 of type ‘Linux filesystem’ and of size 512 MiB.<br>Partition #1 contains a vfat signature.</p><p>Do you want to remove the signature? [Y]es&#x2F;[N]o: Y  # 清除已有的签名，如果是全新的硬盘，则没有此步</p><p>The signature will be removed by a write command.</p><p>Command (m for help): t  # 输入 t 改变分区类型，请勿遗忘此步<br>Selected partition 1<br>Partition type or alias (type L to list all): 1  # 输入 1 代表 EFI 类型<br>Changed type of partition ‘Linux filesystem’ to ‘EFI System’.</p><p>Command (m for help): n  # 创建第二个分区，用作根分区<br>Partition number (2-128, default 2):   # 保持默认<br>First sector (1050624-125829086, default 1050624):   # 保持默认<br>Last sector, +&#x2F;-sectors or +&#x2F;-size{K,M,G,T,P} (1050624-125829086, default 125827071): +100G  # 创建 100 GiB 大小的根分区，您可以根据自己的硬盘空间决定根分区的大小</p><p>Created a new partition 2 of type ‘Linux filesystem’ and of size 100 GiB.<br>Partition #2 contains a ntfs signature.</p><p>Do you want to remove the signature? [Y]es&#x2F;[N]o: Y</p><p>The signature will be removed by a write command.</p><p>Command (m for help): t  # 输入 t 改变分区类型，请勿遗忘此步<br>Partition number (1-2, default 2):   # 保持默认<br>Partition type or alias (type L to list all): 23  # 输入 23 代表 Linux root (x86-64) 类型<br>Changed type of partition ‘Linux filesystem’ to ‘Linux root (x86-64)’.</p><p>Command (m for help): n  # 创建第三个分区，用作 home 分区<br>Partition number (3-128, default 3):   # 保持默认<br>First sector (42993664-125829086, default 42993664):   # 保持默认<br>Last sector, +&#x2F;-sectors or +&#x2F;-size{K,M,G,T,P} (42993664-125829086, default 125827071):   #保持默认，将剩余空间全部分给 home 分区</p><p>Created a new partition 3 of type ‘Linux filesystem’ and of size 39.5 GiB.</p><p>Command (m for help): t  # 输入 t 改变分区类型<br>Partition number (1-3, default 3):<br>Partition type or alias (type L to list all): 42  # 输入 42 代表 Linux home 类型<br>Changed type of partition ‘Linux filesystem’ to ‘Linux home’.</p><p>Command (m for help): p  # 输入 p 打印分区表，请检查分区是否有误，如果有误，请输入 q 直接退出<br>Disk &#x2F;dev&#x2F;sda: 60 GiB, 64424509440 bytes, 125829120 sectors<br>Disk model: xxx<br>Units: sectors of 1 * 512 &#x3D; 512 bytes<br>Sector size (logical&#x2F;physical): 512 bytes &#x2F; 4096 bytes<br>I&#x2F;O size (minimum&#x2F;optimal): 4096 bytes &#x2F; 4096 bytes<br>Disklabel type: gpt<br>Disk identifier: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</p><p>Device        Start        End   Sectors   Size  Type<br>&#x2F;dev&#x2F;sda1      2048    1050623   1048576   512M  EFI System<br>&#x2F;dev&#x2F;sda2   1050624   42993663  41943040   100G  Linux root (x86-64)<br>&#x2F;dev&#x2F;sda3  42993664  125827071  82833408  39.5G  Linux home</p><p>Filesystem&#x2F;RAID signature on partition 1 will be wiped.<br>Filesystem&#x2F;RAID signature on partition 2 will be wiped.</p><p>Command (m for help): w  # 输入 w 写入分区表，该操作不可恢复<br>The partition table has been altered.<br>Calling ioctl() to re-read partition table.<br>Syncing disks.</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2. windows和archlinux双系统</span><br><span class="line">磁盘分区表，此分区表参考微软的 UEFI/GPT 硬盘推荐分区</span><br><span class="line">|挂载点|分区|分区类型|建议大小|备注|</span><br><span class="line">|efi|/dev/sda1或/dev/nvme0n1p1|efi system|260mib|esp分区|</span><br><span class="line">|Windows分区|略|microsoft basic data|略|Windows盘|</span><br><span class="line">|mnt|/dev/sda5或/dev/nvme0n1p5|linux x86-64 root|500gib(可调整最低30gib)|archlinux根分区|</span><br><span class="line">|mnt/home|/dev/sda5或/dev/nvme0n1p5/|linux home|剩余空间|archlinux home分区|</span><br><span class="line">首先使用 `lsblk` 或 `fdisk -l` 查看分区信息。您将看到许多设备，请注意根据容量大小和分区数量进行区分，例如</span><br></pre></td></tr></table></figure><p>root@archiso ~ # lsblk<br>NAME           MAJ:MIN  RM    SIZE  RO  TYPE  MOUNTPOINT<br>loop0            7:0     0  688.2M   1  loop  &#x2F;run&#x2F;archiso&#x2F;airootfs  # loop0 可以忽略<br>sda              8:0     0  931.5G   0  disk  # sda 是要安装 Arch Linux 的硬盘，请记住设备名<br>├─sda1           8:1     0    260M   0  part<br>├─sda2           8:2     0     16M   0  part<br>├─sda3           8:3     0     50G   0  part<br>└─sda4           8:4     0     50G   0  part<br>sdb              8:16    1   59.8G   0  disk  # sdb 是 U 盘，请忽略</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在上面的例子中，以 rom， loop， airoot 结尾的设备可以忽略；sda 是要安装 Arch Linux 的硬盘，请记住这个设备名；根据容量可以判断出 sdb 是 U 盘，请忽略。根据微软的 UEFI/GPT 硬盘推荐分区[15]，我们有 Windows 为您分好的 260 MiB 大小的 EFI 分区和 16 MiB 大小的 MSR 分区，以及 50 GiB 大小的 C 盘和 D 盘。现在我们开始分区。不需要创建 GPT 分区表，也不需要创建 EFI 分区，只需创建根分区和 home 分区。参考如下</span><br></pre></td></tr></table></figure><p>root@archiso ~ # fdisk &#x2F;dev&#x2F;sda  # 请将 sda 更换为您的设备名，如 nvme0n1</p><p>Welcome to fdisk (util-linux 2.xx).<br>Changes will remain in memory only, until you decide to write them.<br>Be careful before using the write command.</p><p>Command (m for help): p  # 输入 p 打印分区表，检查已有的分区。我们有 260 MiB 大小的 EFI 分区和 16 MiB 大小的 MSR 分区，以及 50 GiB 大小的 C 盘和 D 盘</p><p>Disk &#x2F;dev&#x2F;sda: 150.6 GiB, 161705518592 bytes, 315831091 sectors<br>Disk model: xxx<br>Units: sectors of 1 * 512 &#x3D; 512 bytes<br>Sector size (logical&#x2F;physical): 512 bytes &#x2F; 4096 bytes<br>I&#x2F;O size (minimum&#x2F;optimal): 4096 bytes &#x2F; 4096 bytes<br>Disklabel type: gpt<br>Disk identifier: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</p><p>Device        Start        End   Sectors   Size  Type<br>&#x2F;dev&#x2F;sda1      2048     534527    532480   260M  EFI System<br>&#x2F;dev&#x2F;sda2    534528     567295     32768    16M  Microsoft reserved<br>&#x2F;dev&#x2F;sda3    567296  105424895 104857600    50G  Microsoft basic data<br>&#x2F;dev&#x2F;sda4 105424896  210282495 104857600    50G  Microsoft basic data</p><p>Command (m for help): n  # 输入 n 创建新的分区，这个分区将是根分区<br>Partition number (5-128, default 5):  # 分区编号保持默认，直接按 Enter<br>First sector (210282496-315831057, default 210282496):  # 第一个扇区，保持默认<br>Last sector, +&#x2F;-sectors or +&#x2F;-size{K,M,G,T,P} (210282496-315831057, default 315831057): +50G  # 创建 50 GiB 大小的根分区，您可以根据自己的硬盘空间决定根分区的大小</p><p>Created a new partition 5 of type ‘Linux filesystem’ and of size 50 GiB.</p><p>Command (m for help): t  # 输入 t 改变分区类型，请勿遗忘此步<br>Partition number (1-5, default 5):   # 保持默认<br>Partition type or alias (type L to list all): 23  # 输入 23 代表 Linux root (x86-64) 类型<br>Changed type of partition ‘Linux filesystem’ to ‘Linux root (x86-64)’.</p><p>Command (m for help): n  # 输入 n 创建新的分区，这个分区将是 home 分区<br>Partition number (6-128, default 6):   # 保持默认<br>First sector (252225536-315831057, default 252225536):   # 保持默认<br>Last sector, +&#x2F;-sectors or +&#x2F;-size{K,M,G,T,P} (252225536-315831057, default 315831057):   # 保持默认，将剩余空间全部分给 home 分区</p><p>Created a new partition 6 of type ‘Linux filesystem’ and of size 30.3 GiB.</p><p>Command (m for help): t  # 输入 t 改变分区类型<br>Partition number (1-6, default 6):   # 保持默认<br>Partition type or alias (type L to list all): 42  # 输入 42 代表 Linux home 类型<br>Changed type of partition ‘Linux filesystem’ to ‘Linux home’.</p><p>Command (m for help): p  # 输入 p 打印分区表，请检查分区是否有误，如果有误，请输入 q 直接退出</p><p>Disk &#x2F;dev&#x2F;sda: 150.6 GiB, 161705518592 bytes, 315831091 sectors<br>Disk model: xxx<br>Units: sectors of 1 * 512 &#x3D; 512 bytes<br>Sector size (logical&#x2F;physical): 512 bytes &#x2F; 4096 bytes<br>I&#x2F;O size (minimum&#x2F;optimal): 4096 bytes &#x2F; 4096 bytes<br>Disklabel type: gpt<br>Disk identifier: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</p><p>Device        Start        End   Sectors   Size  Type<br>&#x2F;dev&#x2F;sda1      2048     534527    532480   260M  EFI System<br>&#x2F;dev&#x2F;sda2    534528     567295     32768    16M  Microsoft reserved<br>&#x2F;dev&#x2F;sda3    567296  105424895 104857600    50G  Microsoft basic data<br>&#x2F;dev&#x2F;sda4 105424896  210282495 104857600    50G  Microsoft basic data<br>&#x2F;dev&#x2F;sda5 210282496  252225535  41943040    50G  Linux root (x86-64)<br>&#x2F;dev&#x2F;sda6 252225536  315830271  63604736  30.3G  Linux home</p><h2 id="Command-m-for-help-w-输入-w-写入分区表，该操作不可恢复The-partition-table-has-been-altered-Calling-ioctl-to-re-read-partition-table-Syncing-disks-mkswap-U-clear-x2F-mnt-x2F-swapfileswapon-x2F-mnt-x2F-swapfile-root-archiso-passwdNew-password-请输入密码，这里不会显示“-”，这是正常现象Retype-new-password-passwd-password-updated-successfully-96-96-96-安装微码"><a href="#Command-m-for-help-w-输入-w-写入分区表，该操作不可恢复The-partition-table-has-been-altered-Calling-ioctl-to-re-read-partition-table-Syncing-disks-mkswap-U-clear-x2F-mnt-x2F-swapfileswapon-x2F-mnt-x2F-swapfile-root-archiso-passwdNew-password-请输入密码，这里不会显示“-”，这是正常现象Retype-new-password-passwd-password-updated-successfully-96-96-96-安装微码" class="headerlink" title="Command (m for help): w  # 输入 w 写入分区表，该操作不可恢复The partition table has been altered.Calling ioctl() to re-read partition table.Syncing disks.mkswap -U clear &#x2F;mnt&#x2F;swapfileswapon &#x2F;mnt&#x2F;swapfile[root@archiso ~]# passwdNew password:  # 请输入密码，这里不会显示“*”，这是正常现象Retype new password:passwd: password updated successfully&#96;&#96;&#96;安装微码"></a>Command (m for help): w  # 输入 w 写入分区表，该操作不可恢复<br>The partition table has been altered.<br>Calling ioctl() to re-read partition table.<br>Syncing disks.<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">分区格式化</span><br><span class="line">-----------</span><br><span class="line">创建好的分区必须格式化为一种文件系统，Linux 上常见的文件系统有 ext4，btrfs，xfs 等。第一次安装的读者，建议使用 ext4 文件系统。btrfs 提供子卷、写时复制、压缩、快照等高级功能，适合更加熟练的用户。</span><br><span class="line">1. 全新安装格式化</span><br><span class="line">使用 mkfs.ext4将您的根分区和home分区格式化为 ext4 文件系统。请将 /dev/sdaxx 更换为您的 root 分区名，可能是 /dev/nvme0n1pxxx。</span><br><span class="line">格式为`mkfs.ext4 /dev/xxxxx(分区信息)</span><br><span class="line"></span><br><span class="line">使用 mkfs.fat 将您的 EFI 分区格式化为 FAT32 文件系统。请将 /dev/sda1 更换为您的 EFI 分区名，可能是 /dev/nvme0n1p1。</span><br><span class="line">格式为`mkfs.fat -F 32 /dev/xxxxx(分区信息)</span><br><span class="line">2. 双系统格式化</span><br><span class="line">***tips 格式化格式参照上条***</span><br><span class="line">使用 mkfs.ext4[16] 将您的根分区格式化为 ext4 文件系统。请将 /dev/sda5 更换为您的 root 分区名，可能是 /dev/nvme0n1p5 如果您忘记了 root 分区名，请输入 fdisk -l。在 Type 一栏里找到 Linux root(x86-64) 对应的 Device 名称。</span><br><span class="line">使用 mkfs.ext4 将您的 home 分区格式化为 ext4 文件系统。请将 /dev/sda6 更换为您的 home 分区名，可能是 /dev/nvme0n1p6。</span><br><span class="line">果您忘记了 home 分区名，请输入 fdisk -l。在 Type 一栏里找到 Linux home 对应的 Device 名称。</span><br><span class="line"></span><br><span class="line">挂载分区</span><br><span class="line">-------</span><br><span class="line">1. 全新安装</span><br><span class="line">使用 mount将根分区挂载在 /mnt 目录下。挂载需要遵循一定的顺序，要先挂载根分区，请注意。</span><br><span class="line"></span><br><span class="line">请将 /dev/sda2 更换为您的 root 分区名，可能是 /dev/nvme0n1p2</span><br><span class="line">格式为`mount /dev/xxxx /mnt`</span><br><span class="line">随后，使用 mount --mkdir 创建 /mnt/boot 目录，并将 EFI 分区挂载在 /mnt/boot 目录下。请将 /dev/sda1 更换为您的 EFI 分区名，可能是 /dev/nvme0n1p1。</span><br><span class="line">格式为`mount --mkdir /dev/xxxxx /mnt/boot`</span><br><span class="line">此处，也可以使用 /mnt/efi 作为挂载点，这需要引导程序的配合，具体的区别见 ArchWiki。</span><br><span class="line">最后，挂载 home 分区。请将 /dev/sda5 更换为您的 home 分区名，可能是 /dev/nvme0n1p3。</span><br><span class="line">格式为`mount --mkdir /dev/xxx /mnt/home`</span><br><span class="line">2. 双系统挂载</span><br><span class="line">使用 mount将根分区挂载在 /mnt 目录下。挂载需要遵循一定的顺序，要先挂载根分区，请注意。</span><br><span class="line"></span><br><span class="line">请将 /dev/sda5 更换为您的 root 分区名，可能是 /dev/nvme0n1p5</span><br><span class="line">格式为`mount /dev/xxx /mnt`</span><br><span class="line">随后，使用 mount --mkdir 创建 /mnt/efi 目录，并将 EFI 分区挂载在 /mnt/efi 目录下。这里不选择挂载点为 /mnt/boot 的目的是减小磁盘空间占用，但是您将只能选择特定的引导程序，如 GRUB。请将 /dev/sda1 更换为您的 EFI 分区名，可能是 /dev/nvme0n1p1。</span><br><span class="line">格式为`mount --mkdir /dev/xxx /mnt/efi`</span><br><span class="line">此处，也可以使用 /mnt/boot 作为挂载点，具体的区别见 ArchWiki。</span><br><span class="line">最后，挂载 home 分区。请将 /dev/sda6 更换为您的 home 分区名，可能是 /dev/nvme0n1p6。</span><br><span class="line">格式为`mount --mkdir /dev/xxx /mnt/home`</span><br><span class="line"></span><br><span class="line">建立交换文件</span><br><span class="line">-------------</span><br><span class="line">交换文件相当于 Windows 中的虚拟内存，也就是利用硬盘空间充当内存。当内存相对不足时，有部分内存中的内容会交换到硬盘中，从而释放内存。关于 swap 的重要性，有两篇不错的文章，推荐读者阅读 交换文件的大小是个众说纷纭的问题。笔者根据 RedHat 文档，推荐的交换文件大小见下表，笔者使用的公式是</span><br><span class="line">**交换文件大小=2√2x内存大小**</span><br><span class="line">建立交换文件的具体操作方法如下。首先使用 dd 创建交换文件。例如，创建一块 8 GiB （=8192 MiB）大小的交换文件</span><br><span class="line">`dd if=/dev/zero of=/mnt/swapfile bs=1M count=8192 status=progress`</span><br><span class="line">如果您需要创建其他大小的交换文件，请将 count= 后面的数值换成交换文件大小的 MiB 数（GiB 数 x 1024）。</span><br><span class="line"></span><br><span class="line">然后，修改权限</span><br><span class="line">`chmod 0600 /mnt/swapfile`</span><br><span class="line">最后 格式化并启用swap</span><br></pre></td></tr></table></figure><br>mkswap -U clear &#x2F;mnt&#x2F;swapfile<br>swapon &#x2F;mnt&#x2F;swapfile<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">安装基础包</span><br><span class="line">---------</span><br><span class="line">终于到了安装环节。我们使用 pacstrap 安装 base，linux，linux-firmware 三个软件包，它们分别是基础包组，linux 内核和驱动程序。此外，如果您使用 2019 年及以后生产的笔记本电脑，可能需要安装 sof-firmware，否则可能没有声音。</span><br><span class="line"></span><br><span class="line">Arch linux 官方提供了 linux，linux-lts，linux-zen，linux-hardened 内核，但是对于初学者，只推荐使用 linux 内核。</span><br><span class="line">`pacstrap -K /mnt base linux linux-firmware`</span><br><span class="line"></span><br><span class="line">生成fstab `genfstab -U /mnt &gt;&gt; /mnt/etc/fstab` 记得用cat指令检查是否正确 `cat /mnt/etc/fstab`</span><br><span class="line"></span><br><span class="line">进入archlinux</span><br><span class="line">--------------</span><br><span class="line">我们使用 arch-chroot 工具切换到新安装的系统，以后的操作就可以在新安装的系统中完成了</span><br><span class="line">`arch-chroot /mnt`</span><br><span class="line"></span><br><span class="line">设置时区和硬件时间</span><br><span class="line">------------------</span><br><span class="line">时区: `ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime`</span><br><span class="line">硬件时间: `hwclock --systohc`</span><br><span class="line"></span><br><span class="line">更改 /etc/locale.gen</span><br><span class="line">--------------------</span><br><span class="line">安装vim  `pacman -S vim`</span><br><span class="line">文章中介绍。如果您想提前学习 vim 的使用方法，请查看菜鸟教程。</span><br><span class="line"></span><br><span class="line">首先输入“/”，进入搜索功能，输入“en-US.UTF-8”，我们找到了以下一行。</span><br><span class="line"></span><br><span class="line">#en-US.UTF-8 UTF-8</span><br><span class="line">按下Enter，此时光标的位置在这一行的“e”的位置。按方向左键，再输入“x”，将这一行开头的“#”删除。</span><br><span class="line"></span><br><span class="line">en-US.UTF-8 UTF-8</span><br><span class="line">再一次输入“/”，进入搜索功能，输入“zh-CN.UTF-8”，按下Enter。按方向左键，再输入“x”，将“#”删除。</span><br><span class="line"></span><br><span class="line">zh-CN.UTF-8 UTF-8</span><br><span class="line">随后输入“:”，进入命令模式，输入“wq”，按下Enter，保存并退出 vim 软件环境。</span><br><span class="line">输入如下命令生成locale `locale-gen`</span><br><span class="line">我们再使用 vim 创建并编辑 locale.conf，设置 locale `vim /etc/locale.conf`</span><br><span class="line">这是一个空文件。进入 vim 程序环境时，默认进入了命令模式，此时无法插入字符。我们首先按下“i”键，进入插入模式。请输入如下字符。</span><br><span class="line"></span><br><span class="line">LANG=en-US.UTF-8</span><br><span class="line">然后按 Esc，退出插入模式。再输入“:”，进入命令模式，输入“wq”，按下Enter，保存并退出 vim 软件环境。</span><br><span class="line"></span><br><span class="line">网络配置</span><br><span class="line">---------</span><br><span class="line">请编辑 hostname文件，设置主机名，这将成为您计算机的名字</span><br><span class="line">`vim /etc/hostname`</span><br><span class="line"></span><br><span class="line">然后，请安装一个网络管理器，笔者推荐使用 NetworkManager</span><br><span class="line">`pacman -S networkmanager`</span><br><span class="line">NetworkManager 附带一个守护程序。在 Arch Linux 中，守护程序由 systemd 管理。systemd 是非常重要的系统程序，我们在下一篇文章中会详细介绍它的用法。现在我们使用 systemd 设置 NetworkManager 开机自动启动。</span><br><span class="line">`systemctl enable NetworkManager.service`</span><br><span class="line"></span><br><span class="line">设置ROOT密码</span><br><span class="line">-----------</span><br><span class="line">&gt; root 用户是 Linux 系统中权限最高的用户，有些敏感的操作必须通过 root 用户进行，比如使用 pacman。我们之前进行所有的操作也都是以 root 用户进行的。也正是因为 root 的权限过高，如果使用不当会造成安全问题，所以我们在下一篇文章中会新建一个普通用户来进行日常的操作。在这里我们需要为 root 用户设置一个密码</span><br><span class="line"></span><br><span class="line">请输入如下命令设置密码</span><br><span class="line">***tips:输入的密码不会显示***</span><br></pre></td></tr></table></figure><br>[root@archiso ~]# passwd<br>New password:  # 请输入密码，这里不会显示“*”，这是正常现象<br>Retype new password:<br>passwd: password updated successfully<br>&#96;&#96;&#96;<br>安装微码</h2><p>如果你是intel处理器 输入如下指令 <code>pacman -S intel-ucode</code><br>如果你是amd处理器 输入如下指令 <code>pacman -S amd-ucode</code></p><h2 id="Arch引导程序的安装"><a href="#Arch引导程序的安装" class="headerlink" title="Arch引导程序的安装"></a>Arch引导程序的安装</h2><ol><li>单系统<br>输入如下指令安装基础包 <code>pacman -S grub efibootmgr</code><br>安装到计算机 <code>grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</code><br>报告”Installation finished. No error reported”即为成功 直接生成grub配置 <code>grub-mkconfig -o /boot/grub/grub.cfg</code></li><li>双系统<br>输入以下命令安装基础包 <code>pacman -S grub efibootmgr os-prober</code><br>安装至计算机 <code>grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=GRUB</code><br>配置os prober检测Windows <code>vim /etc/default/grub</code><br>搜索“GRUB-DISABLE-OS-PROBER&#x3D;false”一行，并去掉这行开头的“#”。保存并退出。</li></ol><p>最后生成 GRUB 配置，即可。</p><h2 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h2><p>退出chroot <code>exit</code><br>关闭交换文件 <code>swapoff /mnt/swapfile</code><br>解除挂载 <code>umount -R /mnt</code><br>重启 <code>reboot</code></p><p>至此，一个基本的 Arch Linux 系统已经安装完毕。现在您可以通过终端控制系统。我们将在下一篇文章中介绍安装后的配置，包括普通用户的创建、显卡驱动和图形界面的安装。敬请关注</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="教程" scheme="http://example.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="archlinux" scheme="http://example.com/categories/%E6%95%99%E7%A8%8B/archlinux/"/>
    
    <category term="linux" scheme="http://example.com/categories/%E6%95%99%E7%A8%8B/archlinux/linux/"/>
    
    
    <category term="教程" scheme="http://example.com/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="ARCHLINUX" scheme="http://example.com/tags/ARCHLINUX/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2023/07/01/TERMUX%E9%83%A8%E7%BD%B2HEXO%E4%BB%A5%E5%8F%8A%E5%90%8E%E7%BB%AD%E9%83%A8%E7%BD%B2-%E4%B8%AD/"/>
    <id>http://example.com/2023/07/01/TERMUX%E9%83%A8%E7%BD%B2HEXO%E4%BB%A5%E5%8F%8A%E5%90%8E%E7%BB%AD%E9%83%A8%E7%BD%B2-%E4%B8%AD/</id>
    <published>2023-07-01T07:49:06.337Z</published>
    <updated>2023-07-01T07:49:06.337Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>TERMUX搭建HEXO以及后续部署(中)</title>
    <link href="http://example.com/2023/07/01/TERMUX%E6%90%AD%E5%BB%BAHEXO%E4%BB%A5%E5%8F%8A%E5%90%8E%E7%BB%AD%E9%83%A8%E7%BD%B2-%E4%B8%AD/"/>
    <id>http://example.com/2023/07/01/TERMUX%E6%90%AD%E5%BB%BAHEXO%E4%BB%A5%E5%8F%8A%E5%90%8E%E7%BB%AD%E9%83%A8%E7%BD%B2-%E4%B8%AD/</id>
    <published>2023-07-01T03:46:59.000Z</published>
    <updated>2023-07-01T07:48:30.567Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>参考了<a href="https://butterfly.js.org/">butterfly官方教程</a><br>主题配置文件指 根目录&#x2F;themes&#x2F;butterfly&#x2F;_config.yml<br>根目录配置文件指 根目录&#x2F;_config.yml<br>让我们开始吧</p><h2 id="安装butterfly"><a href="#安装butterfly" class="headerlink" title="安装butterfly"></a>安装butterfly</h2><ol><li>安装butterfly</li></ol><p><code>git clone -b master https://github.com/jerryc127/hexo-themr-butterfly.git themes/butterfly</code></p><ol start="2"><li>安装pug和stylus渲染</li></ol><p><code>npm install hexo-renderer-pug hexo-renderer-stylus --save</code></p><ol start="3"><li>修改根目录下的 _config.yml 开启主题</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#Extensions</span><br><span class="line"></span><br><span class="line">##Plugins: https://hexo.io/xxxxx</span><br><span class="line"></span><br><span class="line">##themes: https://hexo.io/xxxx</span><br><span class="line"></span><br><span class="line">theme: butterfly</span><br></pre></td></tr></table></figure><h2 id="设置博客个人资料"><a href="#设置博客个人资料" class="headerlink" title="设置博客个人资料"></a>设置博客个人资料</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#Site</span><br><span class="line"></span><br><span class="line">title:       #标题</span><br><span class="line">subtitle:    #副标题</span><br><span class="line">description:    #个性签名</span><br><span class="line">author:      #作者</span><br><span class="line">language:    #语言</span><br><span class="line">timezone:    #时区</span><br></pre></td></tr></table></figure><p>主题支持三种语言</p><ul><li>dedault(EN)</li></ul><ul><li>zh-CN(简体中文)</li></ul><ul><li>zh-TW(繁体中文)</li></ul><p>时区设置为 <code>Asia/Shanghai</code> 否则后续部署会报错</p><h2 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  主页: / || fas fa-home</span><br><span class="line">  博文 || fa fa-graduation-cap:</span><br><span class="line">  分类: /categories/ || fa fa-archive</span><br><span class="line">  标签: /tags/ || fa fa-tags</span><br><span class="line">  归档: /archives/ || fa fa-folder-open</span><br><span class="line">  生活 || fas fa-list:</span><br><span class="line">  分享: /shuoshuo/ || fa fa-comments-o</span><br><span class="line">  相册: /photos/ || fa fa-camera-retro</span><br><span class="line">  音乐: /music/ || fa fa-music</span><br><span class="line">  影视: /movies/ || fas fa-video</span><br><span class="line">  友链: /links/ || fa fa-link</span><br><span class="line">  留言板: /comment/ || fa fa-paper-plane</span><br><span class="line">  #留言板: /messageboard/ || fa fa-paper-plane</span><br><span class="line">  关于笔者: /about/ || fas fa-heart  </span><br></pre></td></tr></table></figure><h2 id="代码块设置"><a href="#代码块设置" class="headerlink" title="代码块设置"></a>代码块设置</h2><p>在主题文件中的_config.yml中配置一下功能</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">highlight_theme: mac  #  darker / pale night / light / ocean / mac / mac light / false 代码主题</span><br><span class="line">highlight_copy: true # 复制按钮</span><br><span class="line">highlight_lang: false # 是否显示代码语言</span><br><span class="line">highlight_shrink: false # true: 代码块默认不展开 / false: 代码块默认展开 | none: 展开并隐藏折叠按钮</span><br><span class="line">highlight_height_limit: false # unit: px</span><br><span class="line">code_word_wrap: true #代码自动换行，关闭滚动条</span><br></pre></td></tr></table></figure><p>同时将站点根目录中的_config.yml的highlight设置为false</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">highlight:</span><br><span class="line">  enable: false</span><br><span class="line">  line_number: false</span><br><span class="line">  auto_detect: false</span><br></pre></td></tr></table></figure><h2 id="添加本地搜索"><a href="#添加本地搜索" class="headerlink" title="添加本地搜索"></a>添加本地搜索</h2><ol><li>安装插件</li></ol><p><code>npm install hexo-genetator-search --save</code></p><ol start="2"><li>打开主题配置文件_config.yml</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#Local search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br><span class="line">  labels:</span><br><span class="line">    input_placeholder: Search for Posts</span><br><span class="line">    hits_empty: &quot;We didn&#x27;t find any results for the search: $&#123;query&#125;&quot; # 如果没有查到内容相关内容显示</span><br></pre></td></tr></table></figure><h2 id="新建分类页面和标签页面"><a href="#新建分类页面和标签页面" class="headerlink" title="新建分类页面和标签页面"></a>新建分类页面和标签页面</h2><ol><li>分类</li></ol><p><code>hexo new page categories</code><br>创建后使用 <code>vim source/categories/index.md</code>进入菜单页<br>在date下面添加<code>type=categories</code></p><ol start="2"><li>标签</li></ol><p><code>hexo new page tags</code><br>创建后使用 <code>vim source/tags/index.md</code>进入标签页<br>在date下面添加<code>type=tags</code></p><h2 id="自定义副标题"><a href="#自定义副标题" class="headerlink" title="自定义副标题"></a>自定义副标题</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#the subtitle on homepage (主頁subtitle)</span><br><span class="line">subtitle:</span><br><span class="line">  enable: true</span><br><span class="line">  #Typewriter Effect (开启打字效果)</span><br><span class="line">  effect: true</span><br><span class="line">  #loop (循環打字)</span><br><span class="line">  loop: true</span><br><span class="line"> #source調用第三方服務</span><br><span class="line">  #source: false 關閉調用</span><br><span class="line"> #source: 1  調用搏天api的隨機語錄（簡體）</span><br><span class="line">  #source: 2  調用一言網的一句話（簡體）</span><br><span class="line">  #source: 3  調用一句網（簡體）</span><br><span class="line">  #source: 4  調用今日詩詞（簡體）</span><br><span class="line">  #subtitle 會先顯示 source , 再顯示 sub 的內容</span><br><span class="line">  source: false</span><br><span class="line"> #如果有英文逗号&#x27; , &#x27;,请使用转义字元 &amp;#44;</span><br><span class="line">  #如果有英文双引号&#x27; &quot; &#x27;,请使用转义字元 &amp;quot;</span><br><span class="line"> #开头不允許转义字元，如需要，请把整個句子用双引号包住</span><br><span class="line"> #如果关闭打字效果，subtitle只会现示sub的第一行文字</span><br><span class="line">  sub:</span><br><span class="line">    - 你在抱怨什么呢                          /</span><br><span class="line">    - 为明天到来的事，说人生像是没有意义      /这几处可以</span><br><span class="line">    - 没有选择会是唯一的路                    /写自己喜欢的</span><br><span class="line">    - 这不是你自己的问题，人终归要好好去生活  /句子</span><br></pre></td></tr></table></figure><h2 id="图片设置"><a href="#图片设置" class="headerlink" title="图片设置"></a>图片设置</h2><p>图片可以用云链接或本地文件 修改主题配置文件 _config.yml</p><ol><li>网站图标</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#Favicon（网站图）</span><br><span class="line">favicon: /img/favicon.png</span><br></pre></td></tr></table></figure><ol start="2"><li>头像</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">avatar:</span><br><span class="line">  img: /img/avatar.jpg #图片路径</span><br><span class="line">  effect: false #头像会一直转圈  </span><br></pre></td></tr></table></figure><ol start="3"><li>主页封面图片</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#The banner image of home page</span><br><span class="line">index_img: /img/background.jpg</span><br></pre></td></tr></table></figure><ol start="4"><li>文章顶部图</li></ol><p>在没有设置top_img和cover会显示该图</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#If the banner of page not setting, it will show the top_img</span><br><span class="line">default_top_img: /img/default_top_img.jpg </span><br></pre></td></tr></table></figure><ol start="5"><li>归档页顶部图</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#归档子标签页图片</span><br><span class="line">#The banner image of archive page</span><br><span class="line">archive_img: /img/archive.jpg</span><br></pre></td></tr></table></figure><ol start="6"><li>tag页顶部图</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#tag页（标签页）</span><br><span class="line">tag_img: /img/tag_img.jpg</span><br></pre></td></tr></table></figure><ol start="7"><li>category页顶部图</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#category页</span><br><span class="line">category_img: /img/category_img.jpg</span><br></pre></td></tr></table></figure><ol start="8"><li>统一文章封面<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cover:</span><br><span class="line">  index_enable: true #  是否展示文章封面</span><br><span class="line">  aside_enable: true</span><br><span class="line">  archives_enable: true</span><br><span class="line">  position: both # 封面展示的位置 left/right/both</span><br><span class="line">  #当没有设置cover时，默认展示的文章封面</span><br><span class="line">   default_cover:</span><br><span class="line">  #当配置多张图片时，会随机选择一张作为 cover. 此时写法为</span><br><span class="line">   /- https:</span><br><span class="line">   /- http:</span><br><span class="line">   /- http:</span><br><span class="line">  /- http:</span><br><span class="line">  /- http:</span><br><span class="line">  /- http:</span><br></pre></td></tr></table></figure></li></ol><p> OS:正常没有 &#x2F; 我为了不让makedown误转译添加的</p><p> 单独设置文章封面 在文章md文件添加</p> <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World        # 标题</span><br><span class="line">tags: [hello]             # 标签</span><br><span class="line">categories:               # 分类</span><br><span class="line">description: hello word~  # 描述</span><br><span class="line">top_img: /img/hello-1.png # 顶部背景图</span><br><span class="line">cover: /img/hello-1.png   # 文章封面</span><br><span class="line">---</span><br></pre></td></tr></table></figure><ol start="9"><li>错误页面</li></ol><p> 配置后会替换无法显示的图片</p> <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#Replace Broken Images (替換無法顯示的圖片)</span><br><span class="line">error_img:</span><br><span class="line">  flink: /img/friend_404.gif</span><br><span class="line">  post_page: /img/404.jpg</span><br></pre></td></tr></table></figure><h2 id="图片懒加载"><a href="#图片懒加载" class="headerlink" title="图片懒加载"></a>图片懒加载</h2><p>添加插件</p><p> <code>npm install hexo-lazyload-image --save</code></p><p>在根目录_config.yml添加一下内容</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">lazyload:</span><br><span class="line">  enable: true</span><br><span class="line">  loadingImg: /img/loading.gif</span><br></pre></td></tr></table></figure><h2 id="图片大图查看"><a href="#图片大图查看" class="headerlink" title="图片大图查看"></a>图片大图查看</h2><p>修改主题配置文件 _config.yml</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">medium_zoom: false</span><br><span class="line">fancybox: true</span><br></pre></td></tr></table></figure><h2 id="版权样式"><a href="#版权样式" class="headerlink" title="版权样式"></a>版权样式</h2><p>修改主题配置文件 _config.yml</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#copy settings</span><br><span class="line">#copyright: Add the copyright information after copied content (複製的內容後面加上版權信息)</span><br><span class="line">copy:</span><br><span class="line">  enable: true # 是否开启网站复制权限</span><br><span class="line">  copyright:  # 复制的内容后面加上版权信息</span><br><span class="line">    enable: false  # 是否开启复制版权信息添加</span><br><span class="line">    limit_count: 50 # 字数限制，当复制文字大于这个字数限制时</span><br></pre></td></tr></table></figure><h2 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h2><p>在文章下面添加推送 修改主题配置文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#Related Articles</span><br><span class="line">related_post:</span><br><span class="line">  enable: true</span><br><span class="line">  limit: 6 # Number of posts displayed</span><br><span class="line">  date_type: created # or created or updated 文章日期顯示創建日或者更新日</span><br></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>给文章结尾添加打赏 修改主题配置文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#Sponsor/reward</span><br><span class="line">reward:</span><br><span class="line">  enable: true</span><br><span class="line">    QR_code:</span><br><span class="line">         - img: #此处改为你的微信收款码链接</span><br><span class="line">           link:</span><br><span class="line">           text: 微信</span><br><span class="line">           - img: #此处改为你的支付宝收款码的图片链接</span><br><span class="line">           link:</span><br><span class="line">           text: 支付宝</span><br></pre></td></tr></table></figure><h2 id="侧边栏样式"><a href="#侧边栏样式" class="headerlink" title="侧边栏样式"></a>侧边栏样式</h2><ol><li>边栏位置</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">aside:</span><br><span class="line">  enable: true</span><br><span class="line">  hide: false</span><br><span class="line">  button: true</span><br><span class="line">  mobile: true # display on mobile</span><br><span class="line">  position: right # left or right </span><br></pre></td></tr></table></figure><h2 id="公告栏设置"><a href="#公告栏设置" class="headerlink" title="公告栏设置"></a>公告栏设置</h2><p>修改主题配置文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">card_announcement:</span><br><span class="line">    enable: true</span><br><span class="line">    content: This is my Blog #修改公告栏信息</span><br></pre></td></tr></table></figure><h2 id="TOC目录"><a href="#TOC目录" class="headerlink" title="TOC目录"></a>TOC目录</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#toc (目錄)</span><br><span class="line">toc:</span><br><span class="line">  post: true</span><br><span class="line">  page: false</span><br><span class="line">  number: false</span><br><span class="line">  expand: true # 是否展开</span><br><span class="line">  style_simple: false # for post</span><br><span class="line">  scroll_percent: true</span><br></pre></td></tr></table></figure><h2 id="字数统计"><a href="#字数统计" class="headerlink" title="字数统计"></a>字数统计</h2><p>安装统计插件<br><code>npm install hexo-wordcount --save or yarn add hexo-wordcount</code></p><p>修改主题配置文件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#wordcount (字數統計)</span><br><span class="line">wordcount:</span><br><span class="line">  enable: true</span><br><span class="line">  post_wordcount: true</span><br><span class="line">  min2read: true</span><br><span class="line">  total_wordcount: true</span><br></pre></td></tr></table></figure><h2 id="文章分享功能"><a href="#文章分享功能" class="headerlink" title="文章分享功能"></a>文章分享功能</h2><p>addthis sharejs addtoany任选一个开启</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#Share System (分享功能)</span><br><span class="line">#--------------------------------------</span><br><span class="line">#AddThis</span><br><span class="line">#https://www.addthis.com</span><br><span class="line">addThis:</span><br><span class="line">  enable: false</span><br><span class="line">    pubid:  #访问 AddThis 官网, 找到你的 pub-id</span><br><span class="line">  #share.js</span><br><span class="line">    # https://github.com/overtrue/share.js</span><br><span class="line"> sharejs:</span><br><span class="line">   enable: true  </span><br><span class="line">   sites: facebook,twitter,wechat,weibo,qq  #想要显示的内容</span><br><span class="line"></span><br><span class="line"> #AddToAny</span><br><span class="line">    # https://www.addtoany.com/</span><br><span class="line">    addtoany:</span><br><span class="line">      enable: false</span><br><span class="line">      item: facebook,twitter,wechat,sina_weibo,facebook_messenger,email,copy_link</span><br></pre></td></tr></table></figure><h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h3><p>恭喜你 到现在你的网站已经成型了下期 我将会教学如何部署至gitee 记得收藏本网站</p>]]></content>
    
    
    <summary type="html">hexo的基本美化</summary>
    
    
    
    <category term="教程" scheme="http://example.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="hexo" scheme="http://example.com/categories/%E6%95%99%E7%A8%8B/hexo/"/>
    
    
    <category term="教程" scheme="http://example.com/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>TERMUX搭建HEXO以及后续部署（上）</title>
    <link href="http://example.com/2023/06/30/TERMUX%E6%90%AD%E5%BB%BAHEXO%E4%BB%A5%E5%8F%8A%E5%90%8E%E7%BB%AD%E9%83%A8%E7%BD%B2%EF%BC%88%E4%B8%8A%EF%BC%89/"/>
    <id>http://example.com/2023/06/30/TERMUX%E6%90%AD%E5%BB%BAHEXO%E4%BB%A5%E5%8F%8A%E5%90%8E%E7%BB%AD%E9%83%A8%E7%BD%B2%EF%BC%88%E4%B8%8A%EF%BC%89/</id>
    <published>2023-06-30T12:38:44.000Z</published>
    <updated>2023-07-01T07:11:56.805Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h3><h2 id="系统要求"><a href="#系统要求" class="headerlink" title="系统要求"></a>系统要求</h2><p><em>安卓7.0以上</em></p><h2 id="安装termux"><a href="#安装termux" class="headerlink" title="安装termux"></a>安装termux</h2><p>官网:  <a href="https://termux.com/">TERMUX官网</a><br>国内下载(自用): <a href="www.jxdown.com%5Csoft%5C48271.html">极限下载</a></p><h2 id="换源并更新"><a href="#换源并更新" class="headerlink" title="换源并更新"></a>换源并更新</h2><p>(<code>）  sed -i &#39;s@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/apt/termux-main stable main@&#39; $PREFIX/etc/apt/sources.list  apt update &amp;&amp; apt upgrade (</code>）</p><h2 id="安装必须软件"><a href="#安装必须软件" class="headerlink" title="安装必须软件"></a>安装必须软件</h2><p><code>pkg install git</code><br><code>pkg install nodejs-lts</code><br><code>pkg install vim</code></p><h2 id="安装HEXO"><a href="#安装HEXO" class="headerlink" title="安装HEXO"></a>安装HEXO</h2><p> <code>npm install hexo-cli -g</code></p><h2 id="创建站点"><a href="#创建站点" class="headerlink" title="创建站点"></a>创建站点</h2><p><code>mkdir hexo</code><br><code>chmod 777 hexo</code><br><code>cd hexo</code><br><code>hexo init</code></p><p><strong>注意 必须在termux目录才可创建 否则报错</strong></p><h2 id="刷新并访问本地网页测试"><a href="#刷新并访问本地网页测试" class="headerlink" title="刷新并访问本地网页测试"></a>刷新并访问本地网页测试</h2><h2 id="hexo-ghexo-s浏览器进入网站测试"><a href="#hexo-ghexo-s浏览器进入网站测试" class="headerlink" title="hexo ghexo s浏览器进入网站测试"></a><code>hexo g</code><br><code>hexo s</code><br><br>浏览器进入网站测试</h2><p><code>http:\\127.0.0.1:4000</code></p><p><em><strong>到此 恭喜你的hexo已经基本成型了 下期我会讲述加载butterfly主题已经挂载至gitee 敬请期待</strong></em></p>]]></content>
    
    
    <summary type="html">hexo的基本搭建</summary>
    
    
    
    <category term="教程" scheme="http://example.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="hexo" scheme="http://example.com/categories/%E6%95%99%E7%A8%8B/hexo/"/>
    
    
    <category term="教程" scheme="http://example.com/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
</feed>
